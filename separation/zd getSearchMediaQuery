getSearchMediaQuery(layout = 'card') {
  const mediaFields = {
    compact: `
      id
      title {
        romaji
      }
      coverImage {
        medium
      }
    `,
    card: `
      id
      title {
        romaji
        english
        native
      }
      coverImage {
        large
        medium
      }
      format
      averageScore
      status
    `,
    full: `
      id
      title {
        romaji
        english
        native
      }
      coverImage {
        large
        medium
      }
      episodes
      chapters
      genres
      format
      averageScore
      status
      startDate {
        year
        month
        day
      }
      endDate {
        year
        month
        day
      }
    `
  };

  const fields = mediaFields[layout] || mediaFields.card;

  return `
    query ($search: String, $type: MediaType, $page: Int, $perPage: Int) {
      Page(page: $page, perPage: $perPage) {
        pageInfo {
          total
          currentPage
          lastPage
          hasNextPage
          perPage
        }
        media(search: $search, type: $type, sort: POPULARITY_DESC) {
          ${fields}
        }
      }
    }
  `;
}